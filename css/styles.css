:root{
  --bg:#f7f6f2; --card:#fff; --accent:#6b4eff; --muted:#666;
  --max-width:1100px;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:#222;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);line-height:1.4;-webkit-font-smoothing:antialiased}
a{color:inherit}

/* Header */
.site-header{background:linear-gradient(90deg,#fff 0%,#f2f2ff 100%);padding:1rem;border-bottom:1px solid #e6e6f0;display:flex;flex-direction:column;gap:.5rem}
.header-inner{display:flex;flex-direction:column}
.site-header h1{margin:0;font-size:1.4rem}
.tagline{margin:0.25rem 0;color:var(--muted)}
.header-actions{display:flex;gap:.5rem;align-items:center;margin-top:.25rem}
.header-actions input{flex:1;padding:.5rem;border:1px solid #ddd;border-radius:6px}
.header-actions button{background:var(--accent);color:#fff;border:none;padding:.5rem 0.75rem;border-radius:6px;cursor:pointer}
button.primary{background:var(--accent);color:#fff;border:none;padding:.5rem .75rem;border-radius:6px;cursor:pointer}
button.danger{background:#ffdddd;color:#900;border:1px solid #f3c2c2;cursor:pointer}

/* Layout */
.container{max-width:var(--max-width);margin:1rem auto;display:grid;grid-template-columns:260px 1fr;gap:1rem;padding:0 1rem}
.sidebar{background:var(--card);padding:1rem;border-radius:8px;border:1px solid #eee}
.content{min-height:60vh}
.sidebar h2, .sidebar h3{margin-top:0}
.sidebar label{display:block;margin:.45rem 0}

/* Recipe grid */
.recipe-list{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem}
.recipe-card{background:var(--card);padding:0.75rem;border-radius:8px;border:1px solid #eee;display:flex;flex-direction:column;justify-content:space-between;min-height:160px}
.card-header h3{margin:.25rem 0;font-size:1.05rem}
.meta{color:var(--muted);font-size:.85rem}
.thumb{width:100%;height:140px;object-fit:cover;border-radius:6px;margin:0.5rem 0}
.excerpt{color:#333;margin:0.25rem 0;min-height:2.5rem}
.tags{margin-top:.5rem;font-size:.85rem;color:var(--accent)}
.card-actions{display:flex;gap:.5rem;justify-content:flex-end}
.card-actions button{padding:.35rem .55rem;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.4);z-index:60}
.modal.hide{display:none}
.modal-content{background:var(--card);width:min(780px,95%);padding:1rem;border-radius:8px;position:relative;border:1px solid #eaeaea;max-height:90vh;overflow:auto}
.modal-close{position:absolute;right:.5rem;top:.5rem;border:none;background:none;font-size:1.6rem;cursor:pointer}
label{display:block;margin:.5rem 0;font-size:.95rem}
input[type="text"],input[type="date"],input[type="search"],textarea,select{width:100%;padding:.45rem;border:1px solid #ddd;border-radius:6px}
.form-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.75rem}
.hide{display:none}

/* Print card styles (inline in print window duplicates these, kept here for preview) */
.print-card {
  box-sizing: border-box;
  width: 3in;
  height: 5in;
  padding: 0.35in;
  font-family: inherit;
  color: #111;
  background: white;
  border: 1px solid #ddd;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}
.print-card h1 { font-size: 1.1rem; margin: 0; line-height: 1.05; }
.print-meta { font-size: 0.75rem; color: #666; }
.print-photo { width: 100%; height: 1.3in; object-fit: cover; border-radius: 4px; display: block; }
.print-section-title { font-weight: 600; font-size: 0.85rem; margin-top: 0.25rem; }
.print-ingredients, .print-directions { font-size: 0.78rem; overflow: hidden; }
.print-notes { font-size: 0.7rem; color:#444; margin-top:auto; }

/* Print page global rules */
@media print{
  @page { size: 3in 5in; margin: 0; }
  body * { visibility: hidden; }
  .print-card, .print-card * { visibility: visible; }
  .print-card { position: absolute; left: 0; top: 0; }
}

/* Responsive / Mobile optimizations */
@media (max-width: 820px) {
  :root {
    --card-padding: 0.85rem;
    --header-padding: 0.9rem;
  }

  .site-header {
    position: sticky;
    top: 0;
    z-index: 30;
    padding: var(--header-padding);
    box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    background: linear-gradient(90deg,#fff 0%,#f7f7ff 100%);
  }

  .header-actions {
    gap: .4rem;
    flex-direction: column;
    align-items: stretch;
  }

  .header-actions input {
    order: 2;
    width: 100%;
  }

  .header-actions button {
    order: 1;
    width: 100%;
    padding: .6rem;
    font-size: 1rem;
  }

  .container { padding: 0.75rem; gap: 0.75rem; grid-template-columns: 1fr; }
  .sidebar { order: 2; padding: 0.65rem; border-radius: 10px; }
  .content { order: 1; }

  .recipe-list { grid-template-columns: 1fr; gap: 0.75rem; }
  .recipe-card { padding: var(--card-padding); font-size: 0.98rem; }
  .thumb { height: 180px; }
  .card-actions { gap: .4rem; }
  .card-actions button { flex: 1; padding: .6rem .5rem; font-size: 0.95rem; }

  /* Full-screen modal on mobile */
  .modal-content { width: 100%; max-width: 100%; height: 100vh; border-radius: 0; padding: 1rem; overflow: auto; }
  .modal { align-items: flex-end; }
  .modal-close { top: .6rem; right: .6rem; }
  input[type="file"] { font-size: 0.95rem; padding: .4rem 0; }
  .form-actions button { padding: .7rem 0.85rem; font-size: 1rem; }
}

/* Tiny improvements for very small screens */
@media (max-width: 420px) {
  .thumb { height: 140px; }
  .header-actions input { font-size: 0.95rem; }
  .site-header h1 { font-size: 1.15rem; }
}
